<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="react-15.3.1/build/react-with-addons.js"></script>
    <script src="react-15.3.1/build/react-dom.js"></script>
    <script src="react-15.3.1/browser.js"></script>
</head>
<body>
<div id="app"></div>
<script type="text/babel">
    var Component=React.createClass({
        getInitialState:function () {
            console.log('getInitialState');
            return{
                count:0
         }
       },
        componentWillMount:function () {
            console.log('componentWillMount');
            this.timer=setInterval(function () {
                this.setState({
                        count:this.state.count+1
                })
            }.bind(this),1000)
        },
        //渲染组件之后执行得方法
        componentDidMount:function () {
            console.log('componentDidMount');
            if(this.state.count==6){
                console.log(123)
            }
        },
        //更新组件执行的方法
        shouldComponentUpdate:function () {
            console.log('shoudcomponentUpdata');
            if(this.state.count>6){
              clearInterval(this.timer)
            }
            return true
        },
//        销毁组件的方法
        disTory:function () {
           ReactDOM.unmountComponentAtNode(document.getElementById('app'))
        },
        //销毁组件之前执行的代码
        componentWillUnmount:function () {
            clearInterval(this.timer)
        },
        render:function () {
            console.log('render');
            return(
                <div>
                    <button onClick={this.disTory}>销毁组件</button>
                    <h1>{this.state.count}</h1>
                </div>

            )
        }

    })
    ReactDOM.render(
        <Component/>,
        document.getElementById('app')
    )
</script>

</body>
</html>